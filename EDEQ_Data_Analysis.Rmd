---
title: "Data_Analysis_EDBeh_SelfHarm_EDEQ"
author: "Helena Davies"
date: "08/03/2021"
output: html_document
---

```{r Setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      comment=NA,
                      prompt=FALSE,
                      cache=FALSE)
```

Delete everything in your global environment
```{r Delete everything in your global environment}
remove(list = ls())
```

#### Call in library script

```{r source files}
source("./libraries.R")
```

#### Call in functions script

```{r source files}
source("./functions.R")
```


### Read in EDEQ data
```{r}
dat.edeq <- readRDS(file = "../data_cleaned/dat.edeq.rds")

# Inspect dimensions
dim(dat.edeq)
# Inspect colnames
colnames(dat.edeq)

nrow(dat.edeq)

```

##Exclude participants who are missing for EVERY edeq screener variable at every wave
```{r}

dat.edeq.screener <- dat.edeq %>%
  filter(
    !is.na(`ed_scid5.regular_episodes_eating_binges_.Wave 2`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_.Wave 3`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_.Wave 4`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_.Wave 5`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_.Wave 6`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_.Wave 7`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_.Wave 8`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_.Wave 2`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_.Wave 3`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_.Wave 4`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_.Wave 5`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_.Wave 6`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_.Wave 7`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_.Wave 8`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_numeric_.Wave 2`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_numeric_.Wave 3`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_numeric_.Wave 4`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_numeric_.Wave 5`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_numeric_.Wave 6`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_numeric_.Wave 7`) |
      !is.na(`ed_scid5.regular_episodes_eating_binges_numeric_.Wave 8`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_numeric_.Wave 2`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_numeric_.Wave 3`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_numeric_.Wave 4`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_numeric_.Wave 5`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_numeric_.Wave 6`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_numeric_.Wave 7`) |
      !is.na(`ed_scid5.weigh_weighed_past_month_numeric_.Wave 8`) 
  )

nrow(dat.edeq.screener)   

```
##Exclude participants who are missing for EVERY edeq variable (i.e., retroprepan, baseline, and every wave)
```{r}

##Remove participants who have ALL missing data
dat.edeq.all.missing <- dat.edeq %>%
  filter(
    is.na(edeq.deliberately_limit_amount_influence.1_.Wavebaseline) &
is.na(edeq.calories_made_body_shape.1_.Wavebaseline) &
is.na(edeq.weight_influenced_person.1_.Wavebaseline) &
is.na(edeq.dissatisfied_shape_weight.1_.Wavebaseline) &
is.na(edeq.eating_behaviours_concerns_distressed.1_.Wavebaseline) &
is.na(edeq.nibbled_picked_snacks_grazed.1_.Wavebaseline) &
is.na(edeq.felt_anxious_blue_bored.2_.Wavebaseline) &
is.na(edeq.felt_anxious_blue_bored.3_.Wavebaseline) &
is.na(edeq.actively_been_monitoring_your_shape_or_weight_.1_.Wavebaseline) &
is.na(edeq.regard_lost_control_eaten.1_.Wavebaseline) &
is.na(edeq.sick_means_made_shape.1_.Wavebaseline) &
is.na(edeq.diuretics_laxatives_means_shape.1_.Wavebaseline) &
is.na(edeq.compulsive_driven_burn_calories.1_.Wavebaseline)&
is.na(edeq.deliberately_limit_amount_influence_.Wavebaseline) &
is.na(edeq.calories_made_body_shape_.Wavebaseline ) &
is.na(edeq.weight_influenced_person_.Wavebaseline) &
is.na(edeq.dissatisfied_shape_weight_.Wavebaseline ) &
is.na(edeq.nibbled_picked_snacks_grazed_.Wavebaseline ) &
is.na(edeq.felt_anxious_blue_bored_.Wavebaseline ) &
is.na(edeq.felt_anxious_blue_bored.1_.Wavebaseline ) &
is.na(edeq.eating_behaviours_concerns_distressed_.Wavebaseline ) &
is.na(edeq.feelings_pandemic_felt_.Wavebaseline) &
is.na(edeq.actively_been_monitoring_your_shape_or_weight_.Wavebaseline) &
is.na(edeq.regard_lost_control_eaten_.Wavebaseline) &
is.na(edeq.sick_means_made_shape_.Wavebaseline) &
is.na(edeq.diuretics_laxatives_means_shape_.Wavebaseline ) &
is.na(edeq.compulsive_driven_burn_calories_.Wavebaseline ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 1`                           ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 2`                           ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 3`                          ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 4`                           ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 5`                          ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 6`                            ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 7`                            ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 8`                           ) &
            is.na(`edeq.calories_made_body_shape_.Wave 1`                                     ) &
           is.na(`edeq.calories_made_body_shape_.Wave 2`                                     ) &
           is.na(`edeq.calories_made_body_shape_.Wave 3`             ) &
           is.na(`edeq.calories_made_body_shape_.Wave 4`                                     ) &
           is.na(`edeq.calories_made_body_shape_.Wave 6`                                       ) &
           is.na(`edeq.calories_made_body_shape_.Wave 7`                                       ) &
           is.na(`edeq.calories_made_body_shape_.Wave 8`                                      ) &
            is.na(`edeq.weight_influenced_person_.Wave 1`                                      ) &
           is.na(`edeq.weight_influenced_person_.Wave 2`                                      ) &
           is.na(`edeq.weight_influenced_person_.Wave 3`                                     ) &
           is.na(`edeq.weight_influenced_person_.Wave 4`                                      ) &
           is.na(`edeq.weight_influenced_person_.Wave 5`                                     ) &
           is.na(`edeq.weight_influenced_person_.Wave 6`                                       ) &
           is.na(`edeq.weight_influenced_person_.Wave 7`                                       ) &
           is.na(`edeq.weight_influenced_person_.Wave 8`                                      ) &
          is.na(`edeq.dissatisfied_shape_weight_.Wave 1`                                     ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 2`                                     ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 3`                                    ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 4`                                     ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 5`                                    ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 6`                                      ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 7`                                      ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 8`                                     ) &
            is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 1`                         ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 2`                         ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 3`                         ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 4`                        ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 5`                         ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 6`                        ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 7`                          ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 8`                         ) &
          is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 1`                 ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 2`                 ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 3`                ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 4`     ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 5`                ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 6`                  ) &
             is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 7`                  ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 8`                 ) &
          is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 1`                                     ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 2`                                     ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 3`                                    ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 4`                                     ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 5`                                    ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 6`                                      ) &
             is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 7`                                      ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 8`                                     ) &
          is.na(`edeq.sick_means_made_shape_numeric_.Wave 1`                                         ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 2`                                         ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 3`                                        ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 4`                                         ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 5`                                        ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 6`                                          ) &
             is.na(`edeq.sick_means_made_shape_numeric_.Wave 7`                                          ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 8`                                         ) &
          is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 1`                               ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 2`                               ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 3`                              ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 4`                               ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 5`                              ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 6`                                ) &
             is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 7`                                ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 8`                               ) &
            is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 1`                               ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 2`                               ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 3`                              ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 4`                               ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 5`                              ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 6`                                ) &
             is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 7`                                ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 8`                               ) &
            is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 1`                               ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 2`                                  ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 3`                                 ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 4`                                  ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 5`                                 ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 6`                                   ) &
             is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 7`                                   ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 8`                                  ) &
          is.na(`edeq.felt_anxious_blue_bored_.Wave 1`                                       ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 2`                                       ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 3`                                      ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 4`                                       ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 5`                                      ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 6`                                        ) &
             is.na(`edeq.felt_anxious_blue_bored_.Wave 7`                                        ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 8`                                       ) &
          is.na(`edeq.felt_anxious_blue_bored.1_.Wave 1`                                     ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 2`                                     ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 3`                                    ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 4`                                     ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 5`                                    ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 6`                                      ) &
             is.na(`edeq.felt_anxious_blue_bored.1_.Wave 7`                                      ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 8` ))
             


nrow(dat.edeq.all.missing)

```

##Exclude participants who are missing for EVERY edeq variable (i.e., retroprepan, baseline, and every wave)
```{r eval=FALSE, include=FALSE}

##Remove participants who have ALL missing data
dat.edeq.all.missing <- dat.edeq %>%
  filter(
           is.na(`edeq.deliberately_limit_amount_influence_baseline`                           ) &
           is.na(`edeq.calories_made_body_shape_baseline`                                     ) &
           is.na(`edeq.weight_influenced_person_baseline`                                      ) &
           is.na(`edeq.dissatisfied_shape_weight_baseline`                                    ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_baseline`                                  ) &
           is.na(`edeq.felt_anxious_blue_bored_baseline`                                      ) &
           is.na(`edeq.felt_anxious_blue_bored.1_baseline`                                     ) &
           is.na(`edeq.eating_behaviours_concerns_distressed_baseline`                        ) &
           is.na(`edeq.deliberately_limit_amount_influence.1_baseline`                         ) &
           is.na(`edeq.calories_made_body_shape.1_baseline`                                   ) &
           is.na(`edeq.weight_influenced_person.1_baseline`                                    ) &
           is.na(`edeq.dissatisfied_shape_weight.1_baseline`                                  ) &
           is.na(`edeq.eating_behaviours_concerns_distressed.1_baseline`                       ) &
           is.na(`edeq.feelings_pandemic_felt_baseline`                                       ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_baseline`                 ) &
           is.na(`edeq.regard_lost_control_eaten_baseline`                                    ) &
           is.na(`edeq.sick_means_made_shape_baseline`                                         ) &
           is.na(`edeq.diuretics_laxatives_means_shape_baseline`                              ) &
           is.na(`edeq.compulsive_driven_burn_calories_baseline`                               ) &
           is.na(`edeq.nibbled_picked_snacks_grazed.1_baseline`                               ) &
           is.na(`edeq.felt_anxious_blue_bored.2_baseline`                                     ) &
           is.na(`edeq.felt_anxious_blue_bored.3_baseline`                                    ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_.1_baseline`              ) &
           is.na(`edeq.regard_lost_control_eaten.1_baseline`                                  ) &
           is.na(`edeq.sick_means_made_shape.1_baseline`                                       ) &
           is.na(`edeq.diuretics_laxatives_means_shape.1_baseline`                            ) &
           is.na(`edeq.compulsive_driven_burn_calories.1_baseline`                             ) &
           is.na(`edeq.deliberately_limit_amount_influence_baseline_numeric`                  ) &
           is.na(`edeq.calories_made_body_shape_baseline_numeric`                              ) &
           is.na(`edeq.weight_influenced_person_baseline_numeric`                             ) &
           is.na(`edeq.dissatisfied_shape_weight_baseline_numeric`                             ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_baseline_numeric`                         ) &
           is.na(`edeq.felt_anxious_blue_bored_baseline_numeric`                               ) &
           is.na(`edeq.felt_anxious_blue_bored.1_baseline_numeric`                            ) &
           is.na(`edeq.eating_behaviours_concerns_distressed_baseline_numeric`                 ) &
           is.na(`edeq.deliberately_limit_amount_influence.1_baseline_numeric`                ) &
           is.na(`edeq.calories_made_body_shape.1_baseline_numeric`                            ) &
           is.na(`edeq.weight_influenced_person.1_baseline_numeric`                           ) &
           is.na(`edeq.dissatisfied_shape_weight.1_baseline_numeric`                           ) &
           is.na(`edeq.eating_behaviours_concerns_distressed.1_baseline_numeric`              ) &
           is.na(`edeq.feelings_pandemic_felt_baseline_numeric`                                ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_baseline_numeric`        ) &
           is.na(`edeq.regard_lost_control_eaten_baseline_numeric`                             ) &
           is.na(`edeq.sick_means_made_shape_baseline_numeric`                                ) &
           is.na(`edeq.diuretics_laxatives_means_shape_baseline_numeric`                       ) &
           is.na(`edeq.compulsive_driven_burn_calories_baseline_numeric`                      ) &
           is.na(`edeq.nibbled_picked_snacks_grazed.1_baseline_numeric`                        ) &
           is.na(`edeq.felt_anxious_blue_bored.2_baseline_numeric`                            ) &
           is.na(`edeq.felt_anxious_blue_bored.3_baseline_numeric`                             ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_.1_baseline_numeric`     ) &
           is.na(`edeq.regard_lost_control_eaten.1_baseline_numeric`                           ) &
           is.na(`edeq.sick_means_made_shape.1_baseline_numeric`                              ) &
           is.na(`edeq.diuretics_laxatives_means_shape.1_baseline_numeric`                     ) &
           is.na(`edeq.compulsive_driven_burn_calories.1_baseline_numeric`                    ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wavebaseline`                      ) &
           is.na(`edeq.calories_made_body_shape_.Wavebaseline`                                ) &
           is.na(`edeq.weight_influenced_person_.Wavebaseline`                                 ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wavebaseline`                               ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wavebaseline`       ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wavebaseline`                                 ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wavebaseline`                                ) &
           is.na(`edeq.eating_behaviours_concerns_distressed_.Wavebaseline`                   ) &
           is.na(`edeq.deliberately_limit_amount_influence.1_.Wavebaseline`                    ) &
           is.na(`edeq.calories_made_body_shape.1_.Wavebaseline`                              ) &
           is.na(`edeq.weight_influenced_person.1_.Wavebaseline`                               ) &
           is.na(`edeq.dissatisfied_shape_weight.1_.Wavebaseline`                             ) &
           is.na(`edeq.eating_behaviours_concerns_distressed.1_.Wavebaseline`                  ) &
           is.na(`edeq.feelings_pandemic_felt_.Wavebaseline`                                  ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_.Wavebaseline`            ) &
           is.na(`edeq.regard_lost_control_eaten_.Wavebaseline`                               ) &
           is.na(`edeq.sick_means_made_shape_.Wavebaseline`                                    ) &
           is.na(`edeq.diuretics_laxatives_means_shape_.Wavebaseline`                         ) &
           is.na(`edeq.compulsive_driven_burn_calories_.Wavebaseline`                          ) &
           is.na(`edeq.nibbled_picked_snacks_grazed.1_.Wavebaseline`                          ) &
           is.na(`edeq.felt_anxious_blue_bored.2_.Wavebaseline`                                ) &
           is.na(`edeq.felt_anxious_blue_bored.3_.Wavebaseline`                               ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_.1_.Wavebaseline`         ) &
           is.na(`edeq.regard_lost_control_eaten.1_.Wavebaseline`                             ) &
           is.na(`edeq.sick_means_made_shape.1_.Wavebaseline`                                  ) &
           is.na(`edeq.diuretics_laxatives_means_shape.1_.Wavebaseline`                       ) &
           is.na(`edeq.compulsive_driven_burn_calories.1_.Wavebaseline`                        ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wavebaseline_numeric`             ) &
           is.na(`edeq.calories_made_body_shape_.Wavebaseline_numeric`                         ) &
           is.na(`edeq.weight_influenced_person_.Wavebaseline_numeric`                        ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wavebaseline_numeric`                        ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wavebaseline_numeric`                    ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wavebaseline_numeric`                          ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wavebaseline_numeric`                       ) &
           is.na(`edeq.eating_behaviours_concerns_distressed_.Wavebaseline_numeric`            ) &
           is.na(`edeq.deliberately_limit_amount_influence.1_.Wavebaseline_numeric`           ) &
           is.na(`edeq.calories_made_body_shape.1_.Wavebaseline_numeric`                       ) &
           is.na(`edeq.weight_influenced_person.1_.Wavebaseline_numeric`                      ) &
           is.na(`edeq.dissatisfied_shape_weight.1_.Wavebaseline_numeric`                      ) &
           is.na(`edeq.eating_behaviours_concerns_distressed.1_.Wavebaseline_numeric`         ) &
           is.na(`edeq.feelings_pandemic_felt_.Wavebaseline_numeric`                           ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_.Wavebaseline_numeric`   ) &
           is.na(`edeq.regard_lost_control_eaten_.Wavebaseline_numeric`                        ) &
           is.na(`edeq.sick_means_made_shape_.Wavebaseline_numeric`                           ) &
           is.na(`edeq.diuretics_laxatives_means_shape_.Wavebaseline_numeric`             ) &
           is.na(`edeq.compulsive_driven_burn_calories_.Wavebaseline_numeric`                 ) &
           is.na(`edeq.nibbled_picked_snacks_grazed.1_.Wavebaseline_numeric`                   ) &
           is.na(`edeq.felt_anxious_blue_bored.2_.Wavebaseline_numeric`                       ) &
           is.na(`edeq.felt_anxious_blue_bored.3_.Wavebaseline_numeric`                        ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_.1_.Wavebaseline_numeric`) &
           is.na(`edeq.regard_lost_control_eaten.1_.Wavebaseline_numeric`                      ) &
           is.na(`edeq.sick_means_made_shape.1_.Wavebaseline_numeric`                         ) &
           is.na(`edeq.diuretics_laxatives_means_shape.1_.Wavebaseline_numeric`                ) &
           is.na(`edeq.compulsive_driven_burn_calories.1_.Wavebaseline_numeric`               ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 1`                           ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 2`                           ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 3`                          ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 4`                           ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 5`                          ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 6`                            ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 7`                            ) &
           is.na(`edeq.deliberately_limit_amount_influence_.Wave 8`                           ) &
            is.na(`edeq.calories_made_body_shape_.Wave 1`                                     ) &
           is.na(`edeq.calories_made_body_shape_.Wave 2`                                     ) &
           is.na(`edeq.calories_made_body_shape_.Wave 3`             ) &
           is.na(`edeq.calories_made_body_shape_.Wave 4`                                     ) &
           is.na(`edeq.calories_made_body_shape_.Wave 6`                                       ) &
           is.na(`edeq.calories_made_body_shape_.Wave 7`                                       ) &
           is.na(`edeq.calories_made_body_shape_.Wave 8`                                      ) &
            is.na(`edeq.weight_influenced_person_.Wave 1`                                      ) &
           is.na(`edeq.weight_influenced_person_.Wave 2`                                      ) &
           is.na(`edeq.weight_influenced_person_.Wave 3`                                     ) &
           is.na(`edeq.weight_influenced_person_.Wave 4`                                      ) &
           is.na(`edeq.weight_influenced_person_.Wave 5`                                     ) &
           is.na(`edeq.weight_influenced_person_.Wave 6`                                       ) &
           is.na(`edeq.weight_influenced_person_.Wave 7`                                       ) &
           is.na(`edeq.weight_influenced_person_.Wave 8`                                      ) &
          is.na(`edeq.dissatisfied_shape_weight_.Wave 1`                                     ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 2`                                     ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 3`                                    ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 4`                                     ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 5`                                    ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 6`                                      ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 7`                                      ) &
           is.na(`edeq.dissatisfied_shape_weight_.Wave 8`                                     ) &
            is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 1`                         ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 2`                         ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 3`                         ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 4`                        ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 5`                         ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 6`                        ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 7`                          ) &
           is.na(`edeq.eating_behaviours_distressed_concerns_.Wave 8`                         ) &
          is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 1`                 ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 2`                 ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 3`                ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 4`     ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 5`                ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 6`                  ) &
             is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 7`                  ) &
           is.na(`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 8`                 ) &
          is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 1`                                     ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 2`                                     ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 3`                                    ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 4`                                     ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 5`                                    ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 6`                                      ) &
             is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 7`                                      ) &
           is.na(`edeq.regard_lost_control_eaten_numeric_.Wave 8`                                     ) &
          is.na(`edeq.sick_means_made_shape_numeric_.Wave 1`                                         ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 2`                                         ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 3`                                        ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 4`                                         ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 5`                                        ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 6`                                          ) &
             is.na(`edeq.sick_means_made_shape_numeric_.Wave 7`                                          ) &
           is.na(`edeq.sick_means_made_shape_numeric_.Wave 8`                                         ) &
          is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 1`                               ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 2`                               ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 3`                              ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 4`                               ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 5`                              ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 6`                                ) &
             is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 7`                                ) &
           is.na(`edeq.diuretics_laxatives_means_shape_numeric_.Wave 8`                               ) &
            is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 1`                               ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 2`                               ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 3`                              ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 4`                               ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 5`                              ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 6`                                ) &
             is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 7`                                ) &
           is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 8`                               ) &
            is.na(`edeq.compulsive_driven_burn_calories_numeric_.Wave 1`                               ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 2`                                  ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 3`                                 ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 4`                                  ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 5`                                 ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 6`                                   ) &
             is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 7`                                   ) &
           is.na(`edeq.nibbled_picked_snacks_grazed_.Wave 8`                                  ) &
          is.na(`edeq.felt_anxious_blue_bored_.Wave 1`                                       ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 2`                                       ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 3`                                      ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 4`                                       ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 5`                                      ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 6`                                        ) &
             is.na(`edeq.felt_anxious_blue_bored_.Wave 7`                                        ) &
           is.na(`edeq.felt_anxious_blue_bored_.Wave 8`                                       ) &
          is.na(`edeq.felt_anxious_blue_bored.1_.Wave 1`                                     ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 2`                                     ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 3`                                    ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 4`                                     ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 5`                                    ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 6`                                      ) &
             is.na(`edeq.felt_anxious_blue_bored.1_.Wave 7`                                      ) &
           is.na(`edeq.felt_anxious_blue_bored.1_.Wave 8` ))
             


nrow(dat.edeq.all.missing)

```

```{r}
##Filter out those with ALL missing data in main dataset
'%!in%' <- function(x,y)!('%in%'(x,y))

dat.edeq <- dat.edeq %>%
  filter(ID %!in% dat.edeq.all.missing$ID)

nrow(dat.edeq) ##TOTAL == 7459

```


##EDEQ

*****
"PRE-PANDEMIC" [retrospective] EDEQ BASELINE-SPECIFIC QUESTIONS (*NB: Baseline questions also asks about "Over the past 28 days...")

1. edeq.deliberately_limit_amount_influence.1_baseline
= On how many of the 28 days BEFORE THE PANDEMIC: Have you been deliberately trying to limit the amount of food you eat to influence your shape or weight ?

2. edeq.calories_made_body_shape.1_baseline
= On how many of the 28 days BEFORE THE PANDEMIC: Has thinking about body shape, weight, food, eating, or calories made it very difficult to concentrate on things you are interested in ?

3. edeq.weight_influenced_person.1_baseline
= Over the 28 days BEFORE THE PANDEMIC: Has your weight influenced how you think about yourself as a person?

4. edeq.dissatisfied_shape_weight.1_baseline
= Over the 28 days BEFORE THE PANDEMIC: How dissatisfied have you been with your weight or shape?

5. edeq.eating_behaviours_concerns_distressed.1_baseline
= Over the 28 days BEFORE THE PANDEMIC: How distressed have you been by your eating behaviours, the measures you've taken to control your weight, or concerns about your weight and shape?

6. edeq.feelings_pandemic_felt_baseline [ONLY ONE NOT ASKED IN FOLLOW UP]
= How different are these feelings to how you felt before the pandemic?

7. edeq.nibbled_picked_snacks_grazed.1_baseline
= On how many of the past 28 days BEFORE THE PANDEMIC: Picked at, nibbled, or grazed food repeatedly outside of planned meals and snacks?

8. edeq.felt_anxious_blue_bored.2_baseline
= On how many of the past 28 days BEFORE THE PANDEMIC: Eaten more than usual because you felt anxious, blue, bored, frustrated or lonely?
 
9.  edeq.felt_anxious_blue_bored.3_baseline
= On how many of the past 28 days BEFORE THE PANDEMIC: Eaten less than usual because you felt anxious, blue, bored, frustrated or lonely?

10.  edeq.actively_been_monitoring_your_shape_or_weight_.1_baseline
= Over the past 28 days BEFORE PANDEMIC, how many times have you: Actively been monitoring your shape or weight ?

11.  edeq.regard_lost_control_eaten.1_baseline
= Over the past 28 days BEFORE PANDEMIC, how many times have you:Eaten what other people would regard as an unusually large amount of food with a sense of having lost control over your eating?

12.  edeq.sick_means_made_shape.1_baseline =
Over the past 28 days BEFORE PANDEMIC, how many times have you:Made yourself sick as a means of controlling your shape or weight?
 
13. edeq.diuretics_laxatives_means_shape.1_baseline
= Over the past 28 days BEFORE PANDEMIC, how many times have you: Taken laxatives, diuretics, or diet pills as a means of controlling your shape or weight?
 
 14. edeq.compulsive_driven_burn_calories.1_baseline
= Over the past 28 days BEFORE PANDEMIC, how many times have you: Exercised in a “driven” or “compulsive” way as a means of controlling your weight, shape, or amount of fat, or to burn off calories?


*****
BASELINE + WAVES EDEQ QUESTIONS

1. edeq.deliberately_limit_amount_influence_X 
= On how many of the past 28 days: Have you been deliberately trying to limit the amount of food you eat to influence your shape or weight ?

2. edeq.calories_made_body_shape_X 
= On how many of the past 28 days: Has thinking about body shape, weight, food, eating, or calories made it very difficult to concentrate on things you are interested in ?

3. edeq.weight_influenced_person_baseline
= Over the past 28 days: Has your weight influenced how you think about yourself as a person?

4. edeq.dissatisfied_shape_weight_baseline
= Over the past 28 days: How dissatisfied have you been with your weight or shape?

5. edeq.nibbled_picked_snacks_grazed_baseline
= Over the past 28 days, on how many days have you: Picked at, nibbled, or grazed food repeatedly outside of planned meals and snacks?

6. edeq.felt_anxious_blue_bored_baseline
= Over the past 28 days, on how many days have you: Eaten more than usual because you felt anxious, blue, bored, frustrated or lonely?

7. edeq.felt_anxious_blue_bored.1_baseline
= Over the past 28 days, on how many days have you: Have you eaten less than usual because you felt anxious, blue, bored, frustrated or lonely?

8. edeq.eating_behaviours_concerns_distressed_baseline
= Over the past 28 days: How distressed have you been by your eating behaviours, the measures you've taken to control your weight, or concerns about your weight and shape?

9. edeq.actively_been_monitoring_your_shape_or_weight_baseline 
= Over the past 28 days, how many times per day have you: Actively been monitoring your shape or weight ?

10. edeq.regard_lost_control_eaten_baseline
= Over the past 28 days, how many times per day have you:Eaten what other people would regard as an unusually large amount of food with a sense of having lost control over your eating?

11. edeq.sick_means_made_shape_baseline
= Over the past 28 days, how many times per day have you: Made yourself sick as a means of controlling your shape or weight?

12. edeq.diuretics_laxatives_means_shape_baseline
= Over the past 28 days, how many times per day have you: Taken laxatives, diuretics, or diet pills as a means of controlling your shape or weight?

13. edeq.compulsive_driven_burn_calories_baseline
= Over the past 28 days, how many times per day have you: Exercised in a “driven” or “compulsive” way as a means of controlling your weight, shape, or amount of fat, or to burn off calories?


****
NB: ONLY RAMP HAS 'RETROSPECTIVE PREPAN' and BASELINE EDEQ
CATEGORIES - distress?
Should split Qs into categories:

1) Restricting

A. deliberately trying to limit the amount of food you eat to influence your shape or weight 
edeq.deliberately_limit_amount_influence.1 (retro prepan)
edeq.deliberately_limit_amount_influence_X (baseline and waves)

B.Eaten less than usual because you felt anxious, blue, bored, frustrated or lonely?
edeq.felt_anxious_blue_bored.3_ (retro prepan)
edeq.felt_anxious_blue_bored.1 (baseline and waves)

2) Compensating
A. Made yourself sick as a means of controlling your shape or weight?
edeq.sick_means_made_shape.1 (retro prepan)
edeq.sick_means_made_shape_X (baseline and waves)

B. Taken laxatives, diuretics, or diet pills as a means of controlling your shape or weight?
edeq.diuretics_laxatives_means_shape.1  (retro prepan)
edeq.diuretics_laxatives_means_shape_x (baseline and waves)

C. Exercised in a “driven” or “compulsive” way as a means of controlling your weight, shape, or amount of fat, or to burn off calories?
edeq.compulsive_driven_burn_calories.1  (retro prepan)
edeq.compulsive_driven_burn_calories_X (baseline and waves)

3) Bingeing behaviour (eating more)

A. Picked at, nibbled, or grazed food repeatedly outside of planned meals and snacks?
edeq.nibbled_picked_snacks_grazed.1 (retro prepan)
edeq.nibbled_picked_snacks_grazed_X (baseline and waves)

B. Eaten more than usual because you felt anxious, blue, bored, frustrated or lonely?
edeq.felt_anxious_blue_bored.2 (retro prepan)
edeq.felt_anxious_blue_bored_X (baseline and waves)

c. Eaten what other people would regard as an unusually large amount of food with a sense of having lost control over your eating?
edeq.regard_lost_control_eaten.1 (retro prepan)
edeq.regard_lost_control_eaten_X  (baseline and waves)

4) Body dissatisfaction / cognitive

A. Has thinking about body shape, weight, food, eating, or calories made it very difficult to concentrate on things you are interested in ?
edeq.calories_made_body_shape.1 (retro prepan)
edeq.calories_made_body_shape_X (baseline and waves)

B. Has your weight influenced how you think about yourself as a person?
edeq.weight_influenced_person.1 (retro prepan)
edeq.weight_influenced_person)X (baseline and waves)

C. How dissatisfied have you been with your weight or shape?
edeq.dissatisfied_shape_weight.1 (retro prepan)
edeq.dissatisfied_shape_weight_X (baseline and waves)

D. Actively been monitoring your shape or weight?
edeq.actively_been_monitoring_your_shape_or_weight_.1 (retro prepan)
edeq.actively_been_monitoring_your_shape_or_weight_X (baseline and waves)


ALSO - DISTRESS

How distressed have you been by your eating behaviours, the measures you've taken to control your weight, or concerns about your weight and shape?
edeq.eating_behaviours_concerns_distressed.1 (retro prepan)
edeq.eating_behaviours_concerns_distressed_X (baseline and waves)

##Rename retro prepandemic variable names in EDEQ

##***NEED NUMERIC VERSIONS FOR:
edeq.actively_been_monitoring_your_shape_or_weight_.Wavebaseline_numeric
edeq.regard_lost_control_eaten_.Wavebaseline_numeric
edeq.sick_means_made_shape_.Wavebaseline_numeric
edeq.diuretics_laxatives_means_shape_.Wavebaseline_numeric
edeq.compulsive_driven_burn_calories_.Wavebaseline_numeric

NB:

retroprepan 
edeq.felt_anxious_blue_bored.2 = eaten more
edeq.felt_anxious_blue_bored.3 = eaten less


BASELINE:
edeq.felt_anxious_blue_bored.1 = Eaten less
edeq.felt_anxious_blue_bored = eaten MORE

WAVES: 
edeq.felt_anxious_blue_bored.1 = eaten LESS
edeq.felt_anxious_blue_bored = eaten MORE
```{r}
dat.edeq <- dat.edeq %>% 
  rename(
    #Rename retro prepan waves to be consistent with all wave names
    edeq.sick_means_made_shape_numeric_.Waveretro_prepan = edeq.sick_means_made_shape.1_.Wavebaseline_numeric,
    edeq.felt_anxious_blue_bored.1_.Waveretro_prepan = edeq.felt_anxious_blue_bored.3_.Wavebaseline,
    edeq.diuretics_laxatives_means_shape_numeric_.Waveretro_prepan= edeq.diuretics_laxatives_means_shape.1_.Wavebaseline_numeric,
    edeq.compulsive_driven_burn_calories_numeric_.Waveretro_prepan = edeq.compulsive_driven_burn_calories.1_.Wavebaseline_numeric,
    edeq.nibbled_picked_snacks_grazed_.Waveretro_prepan = edeq.nibbled_picked_snacks_grazed.1_.Wavebaseline,
    edeq.felt_anxious_blue_bored_.Waveretro_prepan = edeq.felt_anxious_blue_bored.2_.Wavebaseline,
    edeq.regard_lost_control_eaten_numeric_.Waveretro_prepan = edeq.regard_lost_control_eaten.1_.Wavebaseline_numeric,
    edeq.calories_made_body_shape_.Waveretro_prepan = edeq.calories_made_body_shape.1_.Wavebaseline,
    edeq.weight_influenced_person_.Waveretro_prepan = edeq.weight_influenced_person.1_.Wavebaseline,
    edeq.dissatisfied_shape_weight_.Waveretro_prepan = edeq.dissatisfied_shape_weight.1_.Wavebaseline,
    edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Waveretro_prepan = edeq.actively_been_monitoring_your_shape_or_weight_.1_.Wavebaseline_numeric,
    edeq.eating_behaviours_distressed_concerns_.Waveretro_prepan = edeq.eating_behaviours_concerns_distressed.1_.Wavebaseline,
    edeq.deliberately_limit_amount_influence_.Waveretro_prepan = edeq.deliberately_limit_amount_influence.1_.Wavebaseline,
    
    ##Rename all baseline waves to be consistent with wave names
    edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wavebaseline = edeq.actively_been_monitoring_your_shape_or_weight_.Wavebaseline_numeric,
    edeq.regard_lost_control_eaten_numeric_.Wavebaseline = edeq.regard_lost_control_eaten_.Wavebaseline_numeric,
    edeq.sick_means_made_shape_numeric_.Wavebaseline = edeq.sick_means_made_shape_.Wavebaseline_numeric,
    edeq.diuretics_laxatives_means_shape_numeric_.Wavebaseline = edeq.diuretics_laxatives_means_shape_.Wavebaseline_numeric,
    edeq.compulsive_driven_burn_calories_numeric_.Wavebaseline = edeq.compulsive_driven_burn_calories_.Wavebaseline_numeric,
    edeq.nibbled_picked_snacks_grazed_.Wavebaseline = edeq.nibbled_picked_snacks_grazed_.Wavebaseline,
    edeq.felt_anxious_blue_bored_.Wavebaseline = edeq.felt_anxious_blue_bored_.Wavebaseline,
    edeq.calories_made_body_shape_.Wavebaseline = edeq.calories_made_body_shape_.Wavebaseline,
    edeq.weight_influenced_person_.Wavebaseline = edeq.weight_influenced_person_.Wavebaseline,
    edeq.dissatisfied_shape_weight_.Wavebaseline = edeq.dissatisfied_shape_weight_.Wavebaseline,
    edeq.eating_behaviours_distressed_concerns_.Wavebaseline = edeq.eating_behaviours_concerns_distressed_.Wavebaseline,
    edeq.felt_anxious_blue_bored.1_.Wavebaseline = edeq.felt_anxious_blue_bored.1_.Wavebaseline,
    edeq.deliberately_limit_amount_influence_.Wavebaseline = edeq.deliberately_limit_amount_influence_.Wavebaseline


)

```

##Get rid of non-numeric versions of edeq variables that are not needed
```{r}

dat.edeq <- dat.edeq %>%
  select(-c(edeq.actively_been_monitoring_your_shape_or_weight_.Wavebaseline,
            edeq.actively_been_monitoring_your_shape_or_weight_.1_.Wavebaseline,
            edeq.regard_lost_control_eaten_.Wavebaseline,
            edeq.regard_lost_control_eaten.1_.Wavebaseline,
            edeq.sick_means_made_shape_.Wavebaseline,
            edeq.sick_means_made_shape.1_.Wavebaseline,
            edeq.diuretics_laxatives_means_shape_.Wavebaseline,
            edeq.diuretics_laxatives_means_shape.1_.Wavebaseline,
            edeq.compulsive_driven_burn_calories_.Wavebaseline,
            edeq.compulsive_driven_burn_calories.1_.Wavebaseline,
            edeq.feelings_pandemic_felt_.Wavebaseline))



```

##PLOTS - EDEQ 
1. Need to select variables to use (don't want _numeric ones in there as then can't re-structure the data)
##Variables that have been made numeric AFTER data cleaning
```{r}

dat.edeq.long.prep1 <- dat.edeq %>% 
  select(!contains(".Wavebaseline_numeric"))

dat.edeq.long.prep2 <- dat.edeq.long.prep1 %>% 
  select(!contains("baseline_numeric"))

 colnames(dat.edeq.long.prep2) 
 
```
 

```{r}

dat.edeq <- dat.edeq %>%
  select(
    ID,                                                                                                                                            
         sex,
         cohort_name,
         gender_unc,  
         current_country, 
         uk_location,
         age_category,
         age_category_numeric,
         highest_education_prepan_numeric,
         highest_education_numeric,
         employment_prior_covid,
         ethnicity,  
         key_worker, 
         employment_change, 
         highest_education_prepan,                                                                                                        
         highest_education,                                                                                                                  
         employment_prior_covid_numeric,                                                                                                         
         employment_change_numeric,                                                                                                                     
         key_worker_numeric,   
         control,                                                                     
         control_numeric,
         mhd.other_eating_disorder_numeric,
         depressive_disorders_numeric,
         eating_disorders_numeric,
         anxiety_disorders_numeric, 
         psychotic_disorders_numeric,
         mhd.suspected_eating_disorder_diagnosed_numeric,
         obsessive_compulsive_disorders_numeric,
         mhd.anorexia_nervosa_numeric,
         mhd.bulimia_nervosa_numeric,
         mhd.attention_deficit_hyperactivity_disorder_numeric,
         mhd.posttraumatic_stress_disorder_ptsd_numeric,
         mhd.bingeeating_disorder_numeric,
         mhd.purging_disorder_numeric,
         mhd.mania_hypomania_bipolar_or_manicdepression_numeric,                                                     
         autism_spectrum_disorder_numeric,                                                                     
         mhd.personality_disorder_numeric,                                                                          
         mhd.body_dysmorphic_disorder_bdd_numeric,                                                                                     
         mhd.atypical_anorexia_nervosa_numeric,                                                                                         
         mhd.atypical_bulimia_nervosa_numeric,
         mhd.pica_numeric,
         mhd.rumination_disorder_numeric,
         mhd.atypical_bingeeating_disorder_numeric,                                                                                    
         mhd.night_eating_syndrome_numeric,                                                                                                        
         mhd.avoidantrestrictive_food_intake_disorder_numeric,                                                                      
         mhd.feeding_eating_disorder_numeric,
    `edeq.deliberately_limit_amount_influence_.Waveretro_prepan`,                                            
         `edeq.deliberately_limit_amount_influence_.Wavebaseline`, 
     `edeq.deliberately_limit_amount_influence_.Wave 1`, 
         `edeq.deliberately_limit_amount_influence_.Wave 2`,                          
         `edeq.deliberately_limit_amount_influence_.Wave 3`,
         `edeq.deliberately_limit_amount_influence_.Wave 4`, 
         `edeq.deliberately_limit_amount_influence_.Wave 5`,                                                    
         `edeq.deliberately_limit_amount_influence_.Wave 6`,  
         `edeq.deliberately_limit_amount_influence_.Wave 7`,
         `edeq.deliberately_limit_amount_influence_.Wave 8`,
         `edeq.calories_made_body_shape_.Waveretro_prepan`,  
         `edeq.calories_made_body_shape_.Wavebaseline`,  
         `edeq.calories_made_body_shape_.Wave 1`,
         `edeq.calories_made_body_shape_.Wave 2`,                                     
         `edeq.calories_made_body_shape_.Wave 3`,                                                                          
         `edeq.calories_made_body_shape_.Wave 4`,
         `edeq.calories_made_body_shape_.Wave 5`, 
         `edeq.calories_made_body_shape_.Wave 6`,
         `edeq.calories_made_body_shape_.Wave 7`,
         `edeq.calories_made_body_shape_.Wave 8`,
         `edeq.weight_influenced_person_.Waveretro_prepan`,
         `edeq.weight_influenced_person_.Wavebaseline`, 
         `edeq.weight_influenced_person_.Wave 1`,
         `edeq.weight_influenced_person_.Wave 2`,                                     
         `edeq.weight_influenced_person_.Wave 3`, 
         `edeq.weight_influenced_person_.Wave 4`,  
         `edeq.weight_influenced_person_.Wave 5`,                                                                            
         `edeq.weight_influenced_person_.Wave 6`,
         `edeq.weight_influenced_person_.Wave 7`,
          `edeq.weight_influenced_person_.Wave 8`,
         `edeq.dissatisfied_shape_weight_.Waveretro_prepan`, 
         `edeq.dissatisfied_shape_weight_.Wavebaseline`, 
          `edeq.dissatisfied_shape_weight_.Wave 1`,
         `edeq.dissatisfied_shape_weight_.Wave 2`,                                    
         `edeq.dissatisfied_shape_weight_.Wave 3`,                                                                         
         `edeq.dissatisfied_shape_weight_.Wave 4`,                                                                          
         `edeq.dissatisfied_shape_weight_.Wave 5`, 
         `edeq.dissatisfied_shape_weight_.Wave 6`,
         `edeq.dissatisfied_shape_weight_.Wave 7`,
         `edeq.dissatisfied_shape_weight_.Wave 8`,
         `edeq.eating_behaviours_distressed_concerns_.Waveretro_prepan`,       
         `edeq.eating_behaviours_distressed_concerns_.Wavebaseline`,
         `edeq.eating_behaviours_distressed_concerns_.Wave 1`,
         `edeq.eating_behaviours_distressed_concerns_.Wave 2`,                        
         `edeq.eating_behaviours_distressed_concerns_.Wave 3`,
         `edeq.eating_behaviours_distressed_concerns_.Wave 4`,
         `edeq.eating_behaviours_distressed_concerns_.Wave 5`,
         `edeq.eating_behaviours_distressed_concerns_.Wave 6`,
          `edeq.eating_behaviours_distressed_concerns_.Wave 7`,
         `edeq.eating_behaviours_distressed_concerns_.Wave 8`,
         `edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Waveretro_prepan`,                  
         `edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wavebaseline`,  
    `edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 1`,
         `edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 2`,        
         `edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 3`, 
         `edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 4`,
         `edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 5`,
         `edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 6`,
    `edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 7`,
         `edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 8`,
         `edeq.regard_lost_control_eaten_numeric_.Waveretro_prepan`,  
         `edeq.regard_lost_control_eaten_numeric_.Wavebaseline`,  
    `edeq.regard_lost_control_eaten_numeric_.Wave 1`,
         `edeq.regard_lost_control_eaten_numeric_.Wave 2`,                            
         `edeq.regard_lost_control_eaten_numeric_.Wave 3`, 
         `edeq.regard_lost_control_eaten_numeric_.Wave 4`,
         `edeq.regard_lost_control_eaten_numeric_.Wave 5`,
         `edeq.regard_lost_control_eaten_numeric_.Wave 6`,
    `edeq.regard_lost_control_eaten_numeric_.Wave 7`,
         `edeq.regard_lost_control_eaten_numeric_.Wave 8`,
         `edeq.sick_means_made_shape_numeric_.Waveretro_prepan`,                             
         `edeq.sick_means_made_shape_numeric_.Wavebaseline`, 
    `edeq.sick_means_made_shape_numeric_.Wave 1`,
         `edeq.sick_means_made_shape_numeric_.Wave 2`,                                
         `edeq.sick_means_made_shape_numeric_.Wave 3`,
         `edeq.sick_means_made_shape_numeric_.Wave 4`,
         `edeq.sick_means_made_shape_numeric_.Wave 5`,
         `edeq.sick_means_made_shape_numeric_.Wave 6`,
         `edeq.sick_means_made_shape_numeric_.Wave 7`,
         `edeq.sick_means_made_shape_numeric_.Wave 8`,
         `edeq.diuretics_laxatives_means_shape_numeric_.Waveretro_prepan`,       
         `edeq.diuretics_laxatives_means_shape_numeric_.Wavebaseline`, 
    `edeq.diuretics_laxatives_means_shape_numeric_.Wave 1`,
         `edeq.diuretics_laxatives_means_shape_numeric_.Wave 2`,                      
         `edeq.diuretics_laxatives_means_shape_numeric_.Wave 3`,
         `edeq.diuretics_laxatives_means_shape_numeric_.Wave 4`,
         `edeq.diuretics_laxatives_means_shape_numeric_.Wave 5`,
         `edeq.diuretics_laxatives_means_shape_numeric_.Wave 6`,
    `edeq.diuretics_laxatives_means_shape_numeric_.Wave 7`,
         `edeq.diuretics_laxatives_means_shape_numeric_.Wave 8`,
         `edeq.compulsive_driven_burn_calories_numeric_.Waveretro_prepan`,
         `edeq.compulsive_driven_burn_calories_numeric_.Wavebaseline`, 
     `edeq.compulsive_driven_burn_calories_numeric_.Wave 1`, 
         `edeq.compulsive_driven_burn_calories_numeric_.Wave 2`,                      
         `edeq.compulsive_driven_burn_calories_numeric_.Wave 3`,
         `edeq.compulsive_driven_burn_calories_numeric_.Wave 4`,
         `edeq.compulsive_driven_burn_calories_numeric_.Wave 5`,
         `edeq.compulsive_driven_burn_calories_numeric_.Wave 6`,
    `edeq.compulsive_driven_burn_calories_numeric_.Wave 7`,
         `edeq.compulsive_driven_burn_calories_numeric_.Wave 8`,
         `edeq.nibbled_picked_snacks_grazed_.Waveretro_prepan`,                                                   
         `edeq.nibbled_picked_snacks_grazed_.Wavebaseline`,    
     `edeq.nibbled_picked_snacks_grazed_.Wave 1`, 
         `edeq.nibbled_picked_snacks_grazed_.Wave 2`,                                 
         `edeq.nibbled_picked_snacks_grazed_.Wave 3`, 
         `edeq.nibbled_picked_snacks_grazed_.Wave 4`,
         `edeq.nibbled_picked_snacks_grazed_.Wave 5`,
         `edeq.nibbled_picked_snacks_grazed_.Wave 6`,
    `edeq.nibbled_picked_snacks_grazed_.Wave 7`,
         `edeq.nibbled_picked_snacks_grazed_.Wave 8`,
         `edeq.felt_anxious_blue_bored.1_.Waveretro_prepan`,     
         `edeq.felt_anxious_blue_bored.1_.Wavebaseline`,
    `edeq.felt_anxious_blue_bored.1_.Wave 1`,
         `edeq.felt_anxious_blue_bored.1_.Wave 2`,                                    
         `edeq.felt_anxious_blue_bored.1_.Wave 3`,
         `edeq.felt_anxious_blue_bored.1_.Wave 4`,
         `edeq.felt_anxious_blue_bored.1_.Wave 5`, 
         `edeq.felt_anxious_blue_bored.1_.Wave 6`,
         `edeq.felt_anxious_blue_bored.1_.Wave 7`,
         `edeq.felt_anxious_blue_bored.1_.Wave 8`,
         `edeq.felt_anxious_blue_bored_.Wavebaseline`,     
         `edeq.felt_anxious_blue_bored_.Waveretro_prepan`, 
    `edeq.felt_anxious_blue_bored_.Wave 1`,
         `edeq.felt_anxious_blue_bored_.Wave 2`,                                      
         `edeq.felt_anxious_blue_bored_.Wave 3`,
         `edeq.felt_anxious_blue_bored_.Wave 4`,
         `edeq.felt_anxious_blue_bored_.Wave 5`,
         `edeq.felt_anxious_blue_bored_.Wave 6`,
         `edeq.felt_anxious_blue_bored_.Wave 7`,
         `edeq.felt_anxious_blue_bored_.Wave 8`)
  
                              
```


 ##Change numerics to factor for restructuring to long       
```{r }
dat.edeq$edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Waveretro_prepan <- as.factor(dat.edeq$edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Waveretro_prepan)                 

dat.edeq$edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wavebaseline <- as.factor(dat.edeq$edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wavebaseline)                 

dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 1` <- as.factor(dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 1`)                 


dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 2` <- as.factor(dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 2`)                 

dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 3` <- as.factor(dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 3`)                 

dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 4` <- as.factor(dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 4`)                 

dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 5` <- as.factor(dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 5`)                 

dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 6` <- as.factor(dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 6`)   

dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 7` <- as.factor(dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 7`)                 


dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 8` <- as.factor(dat.edeq$`edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 8`)                 

dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Waveretro_prepan` <- as.factor(dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Waveretro_prepan`)                 

dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wavebaseline` <- as.factor(dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wavebaseline`) 

dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 1` <- as.factor(dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 1`)    


dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 2` <- as.factor(dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 2`)    

dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 3` <- as.factor(dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 3`)                 

dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 4` <- as.factor(dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 4`)                 

dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 5` <- as.factor(dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 5`)                 

dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 6` <- as.factor(dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 6`)

dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 7` <- as.factor(dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 7`)                 


dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 8` <- as.factor(dat.edeq$`edeq.regard_lost_control_eaten_numeric_.Wave 8`)                 

dat.edeq$`edeq.sick_means_made_shape_numeric_.Waveretro_prepan` <- as.factor(dat.edeq$`edeq.sick_means_made_shape_numeric_.Waveretro_prepan`)                 

dat.edeq$`edeq.sick_means_made_shape_numeric_.Wavebaseline` <- as.factor(dat.edeq$`edeq.sick_means_made_shape_numeric_.Wavebaseline`)    

dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 1` <- as.factor(dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 1`)  


dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 2` <- as.factor(dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 2`)  

dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 3` <- as.factor(dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 3`)      

dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 4` <- as.factor(dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 4`)     

dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 5` <- as.factor(dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 5`)     

dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 6` <- as.factor(dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 6`)   

dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 7` <- as.factor(dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 7`)   

dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 8` <- as.factor(dat.edeq$`edeq.sick_means_made_shape_numeric_.Wave 8`)                 

dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Waveretro_prepan` <- as.factor(dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Waveretro_prepan`)                 

dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wavebaseline` <- as.factor(dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wavebaseline`) 

dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 1` <- as.factor(dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 1`)     


dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 2` <- as.factor(dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 2`)     

dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 3` <- as.factor(dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 3`)      

dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 4` <- as.factor(dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 4`)    

dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 5` <- as.factor(dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 5`)   

dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 6` <- as.factor(dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 6`)  

dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 7` <- as.factor(dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 7`)  


dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 8` <- as.factor(dat.edeq$`edeq.diuretics_laxatives_means_shape_numeric_.Wave 8`)                 

dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Waveretro_prepan` <- as.factor(dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Waveretro_prepan`)

dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wavebaseline` <- as.factor(dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wavebaseline`)       

dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 1` <- as.factor(dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 1`)    


dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 2` <- as.factor(dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 2`)    

dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 3` <- as.factor(dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 3`)      

dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 4` <- as.factor(dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 4`) 

dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 5` <- as.factor(dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 5`)

dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 6` <- as.factor(dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 6`)  

dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 7` <- as.factor(dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 7`)  

dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 8` <- as.factor(dat.edeq$`edeq.compulsive_driven_burn_calories_numeric_.Wave 8`)                 

```

2. Restructure data into long 
```{r }

dat.edeq <- dat.edeq %>%
  pivot_longer(
    cols = (starts_with("edeq") &
              contains(".Wave")),
    names_to = "wave_edeq",
    values_to = "value") %>%
  separate(wave_edeq, into = c("edeq", "wave"), sep = "_.Wave", remove = TRUE) %>%
  pivot_wider(
     names_from = "edeq",
     values_from = "value")


```


FINAL VARIABLES                                                              

1
"edeq.deliberately_limit_amount_influence_.Waveretro_prepan"                                            
"edeq.deliberately_limit_amount_influence_.Wavebaseline"  
"edeq.deliberately_limit_amount_influence_.Wave 1b"                          
"edeq.deliberately_limit_amount_influence_.Wave 2b"
"edeq.deliberately_limit_amount_influence_.Wave 3b" 
"edeq.deliberately_limit_amount_influence_.Wave 4b"                                                    
"edeq.deliberately_limit_amount_influence_.Wave 8"  
"edeq.deliberately_limit_amount_influence_.Wave 6"  

2
"edeq.calories_made_body_shape_.Waveretro_prepan"  
"edeq.calories_made_body_shape_.Wavebaseline"                                
"edeq.calories_made_body_shape_.Wave 1b"                                     
"edeq.calories_made_body_shape_.Wave 2b"                                                                          
"edeq.calories_made_body_shape_.Wave 4b
"edeq.calories_made_body_shape_.Wave 8" 
"edeq.calories_made_body_shape_.Wave 3b"
"edeq.calories_made_body_shape_.Wave 6"                                      

3
"edeq.weight_influenced_person_.Waveretro_prepan"
"edeq.weight_influenced_person_.Wavebaseline" 
"edeq.weight_influenced_person_.Wave 1b"                                     
"edeq.weight_influenced_person_.Wave 2b" 
"edeq.weight_influenced_person_.Wave 3b"  
"edeq.weight_influenced_person_.Wave 4b"                                                                            
"edeq.weight_influenced_person_.Wave 8"
"edeq.weight_influenced_person_.Wave 6"

4
"edeq.dissatisfied_shape_weight_.Waveretro_prepan" 
"edeq.dissatisfied_shape_weight_.Wavebaseline" 
"edeq.dissatisfied_shape_weight_.Wave 3b"
"edeq.dissatisfied_shape_weight_.Wave 1b"                                    
"edeq.dissatisfied_shape_weight_.Wave 2b"                                                                         
"edeq.dissatisfied_shape_weight_.Wave 4b"                                                                          
"edeq.dissatisfied_shape_weight_.Wave 8" 
"edeq.dissatisfied_shape_weight_.Wave 6"

5
"edeq.eating_behaviours_distressed_concerns_.Waveretro_prepan"       
"edeq.eating_behaviours_distressed_concerns_.Wavebaseline"
"edeq.eating_behaviours_distressed_concerns_.Wave 1b"                        
"edeq.eating_behaviours_distressed_concerns_.Wave 2b"
"edeq.eating_behaviours_distressed_concerns_.Wave 3b"
"edeq.eating_behaviours_distressed_concerns_.Wave 4b"
"edeq.eating_behaviours_distressed_concerns_.Wave 6"
"edeq.eating_behaviours_distressed_concerns_.Wave 8"

6
"edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Waveretro_prepan"                  
"edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wavebaseline"   
"edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 1b"        
"edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 2b" 
"edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 3b"
"edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 4b"
"edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 6"
"edeq.actively_been_monitoring_your_shape_or_weight_numeric_.Wave 8"

7
"edeq.regard_lost_control_eaten_numeric_.Waveretro_prepan"  
"edeq.regard_lost_control_eaten_numeric_.Wavebaseline"                                                 
"edeq.regard_lost_control_eaten_numeric_.Wave 1b"                            
"edeq.regard_lost_control_eaten_numeric_.Wave 2b" 
"edeq.regard_lost_control_eaten_numeric_.Wave 3b"
"edeq.regard_lost_control_eaten_numeric_.Wave 4b"
"edeq.regard_lost_control_eaten_numeric_.Wave 6"
"edeq.regard_lost_control_eaten_numeric_.Wave 8"   

8
"edeq.sick_means_made_shape_numeric_.Waveretro_prepan"                             
"edeq.sick_means_made_shape_numeric_.Wavebaseline"  
"edeq.sick_means_made_shape_numeric_.Wave 1b"                                
"edeq.sick_means_made_shape_numeric_.Wave 2b"
"edeq.sick_means_made_shape_numeric_.Wave 3b"
"edeq.sick_means_made_shape_numeric_.Wave 4b
"edeq.sick_means_made_shape_numeric_.Wave 6"                                 
"edeq.sick_means_made_shape_numeric_.Wave 8"

9
"edeq.diuretics_laxatives_means_shape_numeric_.Waveretro_prepan"       
"edeq.diuretics_laxatives_means_shape_numeric_.Wavebaseline" 
"edeq.diuretics_laxatives_means_shape_numeric_.Wave 1b"                      
"edeq.diuretics_laxatives_means_shape_numeric_.Wave 2b"
"edeq.diuretics_laxatives_means_shape_numeric_.Wave 3b"
"edeq.diuretics_laxatives_means_shape_numeric_.Wave 4b"
"edeq.diuretics_laxatives_means_shape_numeric_.Wave 6"
"edeq.diuretics_laxatives_means_shape_numeric_.Wave 8"

10
"edeq.compulsive_driven_burn_calories_numeric_.Waveretro_prepan"
"edeq.compulsive_driven_burn_calories_numeric_.Wavebaseline" 
"edeq.compulsive_driven_burn_calories_numeric_.Wave 1b"                      
"edeq.compulsive_driven_burn_calories_numeric_.Wave 2b"
"edeq.compulsive_driven_burn_calories_numeric_.Wave 3b"
"edeq.compulsive_driven_burn_calories_numeric_.Wave 4b"
"edeq.compulsive_driven_burn_calories_numeric_.Wave 6"
"edeq.compulsive_driven_burn_calories_numeric_.Wave 8"

11
"edeq.nibbled_picked_snacks_grazed_.Waveretro_prepan"                                                   
"edeq.nibbled_picked_snacks_grazed_.Wavebaseline"    
"edeq.nibbled_picked_snacks_grazed_.Wave 1b"                                 
"edeq.nibbled_picked_snacks_grazed_.Wave 2b" 
"edeq.nibbled_picked_snacks_grazed_.Wave 3b"
"edeq.nibbled_picked_snacks_grazed_.Wave 4b"
"edeq.nibbled_picked_snacks_grazed_.Wave 6"
"edeq.nibbled_picked_snacks_grazed_.Wave 8"

12
"edeq.felt_anxious_blue_bored.1_.Waveretro_prepan"     
"edeq.felt_anxious_blue_bored.1_.Wavebaseline"                                  
"edeq.felt_anxious_blue_bored.1_.Wave 1b"                                    
"edeq.felt_anxious_blue_bored.1_.Wave 2b"
"edeq.felt_anxious_blue_bored.1_.Wave 3b"
"edeq.felt_anxious_blue_bored.1_.Wave 4b" 
"edeq.felt_anxious_blue_bored.1_.Wave 6"
"edeq.felt_anxious_blue_bored.1_.Wave 8" 


13
"edeq.felt_anxious_blue_bored_.Wavebaseline"     
"edeq.felt_anxious_blue_bored_.Waveretro_prepan"  
"edeq.felt_anxious_blue_bored_.Wave 1b"                                      
"edeq.felt_anxious_blue_bored_.Wave 2b"
"edeq.felt_anxious_blue_bored_.Wave 3b"
"edeq.felt_anxious_blue_bored_.Wave 4b"
"edeq.felt_anxious_blue_bored_.Wave 6"
"edeq.felt_anxious_blue_bored_.Wave 8"     

##Check how many participants answered each wave
```{r}

dat.edeq.retroprepan <- dat.edeq %>%
  filter(wave == "retro_prepan" &
           (!is.na(edeq.deliberately_limit_amount_influence) |
           !is.na(edeq.calories_made_body_shape) |
           !is.na(edeq.weight_influenced_person) |
           !is.na(edeq.dissatisfied_shape_weight) |
           !is.na(edeq.eating_behaviours_distressed_concerns) |
           !is.na(edeq.actively_been_monitoring_your_shape_or_weight_numeric) |
           !is.na(edeq.regard_lost_control_eaten_numeric) |
           !is.na(edeq.sick_means_made_shape_numeric) |
           !is.na(edeq.diuretics_laxatives_means_shape_numeric) |
           !is.na(edeq.compulsive_driven_burn_calories_numeric) |
           !is.na(edeq.nibbled_picked_snacks_grazed) |
           !is.na(edeq.felt_anxious_blue_bored.1) |
           !is.na(edeq.felt_anxious_blue_bored))
  )
           
           
table(dat.edeq.retroprepan$wave)


dat.edeq.baseline <- dat.edeq %>%
  filter(wave == "baseline" &
           (!is.na(edeq.deliberately_limit_amount_influence) |
           !is.na(edeq.calories_made_body_shape) |
           !is.na(edeq.weight_influenced_person) |
           !is.na(edeq.dissatisfied_shape_weight) |
           !is.na(edeq.eating_behaviours_distressed_concerns) |
           !is.na(edeq.actively_been_monitoring_your_shape_or_weight_numeric) |
           !is.na(edeq.regard_lost_control_eaten_numeric) |
           !is.na(edeq.sick_means_made_shape_numeric) |
           !is.na(edeq.diuretics_laxatives_means_shape_numeric) |
           !is.na(edeq.compulsive_driven_burn_calories_numeric) |
           !is.na(edeq.nibbled_picked_snacks_grazed) |
           !is.na(edeq.felt_anxious_blue_bored.1) |
           !is.na(edeq.felt_anxious_blue_bored))
  )
           
           
table(dat.edeq.baseline$wave)

dat.edeq.1 <- dat.edeq %>%
  filter(wave == " 1" &
           (!is.na(edeq.deliberately_limit_amount_influence) |
           !is.na(edeq.calories_made_body_shape) |
           !is.na(edeq.weight_influenced_person) |
           !is.na(edeq.dissatisfied_shape_weight) |
           !is.na(edeq.eating_behaviours_distressed_concerns) |
           !is.na(edeq.actively_been_monitoring_your_shape_or_weight_numeric) |
           !is.na(edeq.regard_lost_control_eaten_numeric) |
           !is.na(edeq.sick_means_made_shape_numeric) |
           !is.na(edeq.diuretics_laxatives_means_shape_numeric) |
           !is.na(edeq.compulsive_driven_burn_calories_numeric) |
           !is.na(edeq.nibbled_picked_snacks_grazed) |
           !is.na(edeq.felt_anxious_blue_bored.1) |
           !is.na(edeq.felt_anxious_blue_bored))
  )
           

table(dat.edeq.1$wave)

dat.edeq.2 <- dat.edeq %>%
  filter(wave == " 2" &
           (!is.na(edeq.deliberately_limit_amount_influence) |
           !is.na(edeq.calories_made_body_shape) |
           !is.na(edeq.weight_influenced_person) |
           !is.na(edeq.dissatisfied_shape_weight) |
           !is.na(edeq.eating_behaviours_distressed_concerns) |
           !is.na(edeq.actively_been_monitoring_your_shape_or_weight_numeric) |
           !is.na(edeq.regard_lost_control_eaten_numeric) |
           !is.na(edeq.sick_means_made_shape_numeric) |
           !is.na(edeq.diuretics_laxatives_means_shape_numeric) |
           !is.na(edeq.compulsive_driven_burn_calories_numeric) |
           !is.na(edeq.nibbled_picked_snacks_grazed) |
           !is.na(edeq.felt_anxious_blue_bored.1) |
           !is.na(edeq.felt_anxious_blue_bored))
  )
           

table(dat.edeq.2$wave)


dat.edeq.3 <- dat.edeq %>%
  filter(wave == " 3" &
           (!is.na(edeq.deliberately_limit_amount_influence) |
           !is.na(edeq.calories_made_body_shape) |
           !is.na(edeq.weight_influenced_person) |
           !is.na(edeq.dissatisfied_shape_weight) |
           !is.na(edeq.eating_behaviours_distressed_concerns) |
           !is.na(edeq.actively_been_monitoring_your_shape_or_weight_numeric) |
           !is.na(edeq.regard_lost_control_eaten_numeric) |
           !is.na(edeq.sick_means_made_shape_numeric) |
           !is.na(edeq.diuretics_laxatives_means_shape_numeric) |
           !is.na(edeq.compulsive_driven_burn_calories_numeric) |
           !is.na(edeq.nibbled_picked_snacks_grazed) |
           !is.na(edeq.felt_anxious_blue_bored.1) |
           !is.na(edeq.felt_anxious_blue_bored))
  )
           

table(dat.edeq.3$wave)

dat.edeq.4 <- dat.edeq %>%
  filter(wave == " 4" &
           (!is.na(edeq.deliberately_limit_amount_influence) |
           !is.na(edeq.calories_made_body_shape) |
           !is.na(edeq.weight_influenced_person) |
           !is.na(edeq.dissatisfied_shape_weight) |
           !is.na(edeq.eating_behaviours_distressed_concerns) |
           !is.na(edeq.actively_been_monitoring_your_shape_or_weight_numeric) |
           !is.na(edeq.regard_lost_control_eaten_numeric) |
           !is.na(edeq.sick_means_made_shape_numeric) |
           !is.na(edeq.diuretics_laxatives_means_shape_numeric) |
           !is.na(edeq.compulsive_driven_burn_calories_numeric) |
           !is.na(edeq.nibbled_picked_snacks_grazed) |
           !is.na(edeq.felt_anxious_blue_bored.1) |
           !is.na(edeq.felt_anxious_blue_bored))
  )
           

table(dat.edeq.3b$wave)

dat.edeq.5 <- dat.edeq %>%
  filter(wave == " 5" &
           (!is.na(edeq.deliberately_limit_amount_influence) |
           !is.na(edeq.calories_made_body_shape) |
           !is.na(edeq.weight_influenced_person) |
           !is.na(edeq.dissatisfied_shape_weight) |
           !is.na(edeq.eating_behaviours_distressed_concerns) |
           !is.na(edeq.actively_been_monitoring_your_shape_or_weight_numeric) |
           !is.na(edeq.regard_lost_control_eaten_numeric) |
           !is.na(edeq.sick_means_made_shape_numeric) |
           !is.na(edeq.diuretics_laxatives_means_shape_numeric) |
           !is.na(edeq.compulsive_driven_burn_calories_numeric) |
           !is.na(edeq.nibbled_picked_snacks_grazed) |
           !is.na(edeq.felt_anxious_blue_bored.1) |
           !is.na(edeq.felt_anxious_blue_bored))
  )
           

table(dat.edeq.5$wave)

dat.edeq.6 <- dat.edeq %>%
  filter(wave == " 6" &
           (!is.na(edeq.deliberately_limit_amount_influence) |
           !is.na(edeq.calories_made_body_shape) |
           !is.na(edeq.weight_influenced_person) |
           !is.na(edeq.dissatisfied_shape_weight) |
           !is.na(edeq.eating_behaviours_distressed_concerns) |
           !is.na(edeq.actively_been_monitoring_your_shape_or_weight_numeric) |
           !is.na(edeq.regard_lost_control_eaten_numeric) |
           !is.na(edeq.sick_means_made_shape_numeric) |
           !is.na(edeq.diuretics_laxatives_means_shape_numeric) |
           !is.na(edeq.compulsive_driven_burn_calories_numeric) |
           !is.na(edeq.nibbled_picked_snacks_grazed) |
           !is.na(edeq.felt_anxious_blue_bored.1) |
           !is.na(edeq.felt_anxious_blue_bored))
  )
      

table(dat.edeq.6$wave) 

dat.edeq.7 <- dat.edeq %>%
  filter(wave == " 7" &
           (!is.na(edeq.deliberately_limit_amount_influence) |
           !is.na(edeq.calories_made_body_shape) |
           !is.na(edeq.weight_influenced_person) |
           !is.na(edeq.dissatisfied_shape_weight) |
           !is.na(edeq.eating_behaviours_distressed_concerns) |
           !is.na(edeq.actively_been_monitoring_your_shape_or_weight_numeric) |
           !is.na(edeq.regard_lost_control_eaten_numeric) |
           !is.na(edeq.sick_means_made_shape_numeric) |
           !is.na(edeq.diuretics_laxatives_means_shape_numeric) |
           !is.na(edeq.compulsive_driven_burn_calories_numeric) |
           !is.na(edeq.nibbled_picked_snacks_grazed) |
           !is.na(edeq.felt_anxious_blue_bored.1) |
           !is.na(edeq.felt_anxious_blue_bored))
  )
          

table(dat.edeq.7$wave)


dat.edeq.8 <- dat.edeq %>%
  filter(wave == " 8" &
           (!is.na(edeq.deliberately_limit_amount_influence) |
           !is.na(edeq.calories_made_body_shape) |
           !is.na(edeq.weight_influenced_person) |
           !is.na(edeq.dissatisfied_shape_weight) |
           !is.na(edeq.eating_behaviours_distressed_concerns) |
           !is.na(edeq.actively_been_monitoring_your_shape_or_weight_numeric) |
           !is.na(edeq.regard_lost_control_eaten_numeric) |
           !is.na(edeq.sick_means_made_shape_numeric) |
           !is.na(edeq.diuretics_laxatives_means_shape_numeric) |
           !is.na(edeq.compulsive_driven_burn_calories_numeric) |
           !is.na(edeq.nibbled_picked_snacks_grazed) |
           !is.na(edeq.felt_anxious_blue_bored.1) |
           !is.na(edeq.felt_anxious_blue_bored))
  )
           

table(dat.edeq.8$wave)


```


Drop empty factor levels across all columns 
```{r}

dat.edeq <-  droplevels(dat.edeq)

```

##PLOTS - On how many of the past 28 days: Have you been deliberately trying to limit the amount of food you eat to influence your shape or weight ?

#1. Get rid of NAs and change edeq to factor
```{r}
#get rid of nas
dat.no.nas <- dat.edeq[!is.na(dat.edeq$edeq.deliberately_limit_amount_influence),]

```

#1. Change wave to factor and re-order
```{r}

# change order of wave factor 1
dat.no.nas <- dat.no.nas %>%
 mutate(wave_factor = fct_relevel(wave,
                                  "retro_prepan",
                                  "baseline",
                                  "2",
                                  "3",
                           "4",
                           "5",
                           "6",
                           "7",
                           "8"))


#Check that this worked

summary(dat.no.nas$wave_factor)
```

#4. Rename waves to dates
```{r}

##Rename waves
levels(dat.no.nas$wave_factor)[1] <- "Retrospective pre-pandemic"

levels(dat.no.nas$wave_factor)[2] <- "May"

levels(dat.no.nas$wave_factor)[3] <- "June" 

levels(dat.no.nas$wave_factor)[4] <- "July "

levels(dat.no.nas$wave_factor)[5] <- "August"

levels(dat.no.nas$wave_factor)[6] <- "September"

levels(dat.no.nas$wave_factor)[7] <- "November"

levels(dat.no.nas$wave_factor)[8] <- "December"

```


#5. Format data to plot
```{r}
#get data in format to plot
dat_plot <- dat.no.nas %>%
  group_by(wave_factor) %>%
  dplyr::summarise(wcount = table(edeq.deliberately_limit_amount_influence) / sum(table(edeq.deliberately_limit_amount_influence))) %>%
  ungroup() %>%
  mutate(edeq.deliberately_limit_amount_influence = rep(levels(dat.no.nas[["edeq.deliberately_limit_amount_influence"]]),
                    length(levels(dat.no.nas[["wave_factor"]]))))


```

6. Change edeq variable to ordered factor
```{r}
dat_plot <- dat_plot %>%
  mutate(edeq.deliberately_limit_amount_influence = fct_relevel(edeq.deliberately_limit_amount_influence,
                           "No days",
                           "1-4 days",
                           "5-10 days",
                          "11-16 days",
                          "17-22 days",
                          "23-27 days",
                          "Every day"))


```


7. PLOT ! On how many of the past 28 days: Have you been deliberately trying to limit the amount of food you eat to influence your shape or weight?
```{r}

ggplot(dat_plot,
       aes(x = edeq.deliberately_limit_amount_influence,
           y = wcount,
           fill = wave_factor)) +
  geom_bar(aes(group = wave_factor),
           stat = "identity",
           position = "dodge",
           colour = "black") + 
  scale_y_continuous(labels = scales::percent) +
  labs(title = str_wrap("On how many of the past 28 days: Have you been deliberately trying to limit the amount of food you eat to influence your shape or weight?", 60),
       x = "Number of days",
       y = "Percentage of participants",
       fill = "Time of survey") +
scale_x_discrete(guide = guide_axis(n.dodge=3))

```

##PLOTS - On how many of the past 28 days: Has thinking about body shape, weight, food, eating, or calories made it very difficult to concentrate on things you are interested in ?

#1. Get rid of NAs and change edeq to factor
```{r}
#get rid of nas
dat.no.nas <- dat.edeq[!is.na(dat.edeq$edeq.calories_made_body_shape),]

```

#1. Change wave to factor and re-order
```{r}

# change order of wave factor 1
dat.no.nas <- dat.no.nas %>%
 mutate(wave_factor = fct_relevel(wave,
                                  "retro_prepan",
                                  "baseline",
                                  "2",
                                  "3",
                           "4",
                           "5",
                           "6",
                           "7",
                           "8"))


#Check that this worked

summary(dat.no.nas$wave_factor)
```

#4. Rename waves to dates
```{r}

##Rename waves
levels(dat.no.nas$wave_factor)[1] <- "Retrospective pre-pandemic"

levels(dat.no.nas$wave_factor)[2] <- "May"

levels(dat.no.nas$wave_factor)[3] <- "June" 

levels(dat.no.nas$wave_factor)[4] <- "July "

levels(dat.no.nas$wave_factor)[5] <- "August"

levels(dat.no.nas$wave_factor)[6] <- "September"

levels(dat.no.nas$wave_factor)[7] <- "November"

levels(dat.no.nas$wave_factor)[8] <- "December"
```


#5. Format data to plot
```{r}
#get data in format to plot
dat_plot <- dat.no.nas %>%
  group_by(wave_factor) %>%
  dplyr::summarise(wcount = table(edeq.calories_made_body_shape) / sum(table(edeq.calories_made_body_shape))) %>%
  ungroup() %>%
  mutate(edeq.calories_made_body_shape = rep(levels(dat.no.nas[["edeq.calories_made_body_shape"]]),
                    length(levels(dat.no.nas[["wave_factor"]]))))


```

6. Change edeq variable to ordered factor
```{r}
dat_plot <- dat_plot %>%
  mutate(edeq.calories_made_body_shape = fct_relevel(edeq.calories_made_body_shape,
                           "No days",
                           "1-4 days",
                           "5-10 days",
                          "11-16 days",
                          "17-22 days",
                          "23-27 days",
                          "Every day"))

```


7. PLOT ! On how many of the past 28 days:  Has thinking about body shape, weight, food, eating, or calories made it very difficult to concentrate on things you are interested in ?
```{r}

ggplot(dat_plot,
       aes(x = edeq.calories_made_body_shape,
           y = wcount,
           fill = wave_factor)) +
  geom_bar(aes(group = wave_factor),
           stat = "identity",
           position = "dodge",
           colour = "black") + 
  scale_y_continuous(labels = scales::percent) +
  labs(title = str_wrap("On how many of the past 28 days: Has thinking about body shape, weight, food, eating, or calories made it very difficult to concentrate on things you are interested in ?", 60),
       x = "Number of days",
       y = "Percentage of participants",
       fill = "Time of survey") +
scale_x_discrete(guide = guide_axis(n.dodge=3))

```
##PLOTS - Over the past 28 days: Has your weight influenced how you think about yourself as a person?

#1. Get rid of NAs and change edeq to factor
```{r}
#get rid of nas
dat.no.nas <- dat.edeq[!is.na(dat.edeq$edeq.weight_influenced_person),]

```

#1. Change wave to factor and re-order
```{r}

# change order of wave factor 1
dat.no.nas <- dat.no.nas %>%
 mutate(wave_factor = fct_relevel(wave,
                                  "retro_prepan",
                                  "baseline",
                                  "2",
                                  "3",
                           "4",
                           "5",
                           "6",
                           "7",
                           "8"))


#Check that this worked

summary(dat.no.nas$wave_factor)
```

#4. Rename waves to dates
```{r}

##Rename waves
levels(dat.no.nas$wave_factor)[1] <- "Retrospective pre-pandemic"

levels(dat.no.nas$wave_factor)[2] <- "May"

levels(dat.no.nas$wave_factor)[3] <- "June" 

levels(dat.no.nas$wave_factor)[4] <- "July "

levels(dat.no.nas$wave_factor)[5] <- "August"

levels(dat.no.nas$wave_factor)[6] <- "September"

levels(dat.no.nas$wave_factor)[7] <- "November"

levels(dat.no.nas$wave_factor)[8] <- "December"

```


#5. Format data to plot
```{r}
#get data in format to plot
dat_plot <- dat.no.nas %>%
  group_by(wave_factor) %>%
  dplyr::summarise(wcount = table(edeq.weight_influenced_person) / sum(table(edeq.weight_influenced_person))) %>%
  ungroup() %>%
  mutate(edeq.weight_influenced_person = rep(levels(dat.no.nas[["edeq.weight_influenced_person"]]),
                    length(levels(dat.no.nas[["wave_factor"]]))))


```

6. Change edeq variable to ordered factor
```{r}
dat_plot <- dat_plot %>%
  mutate(edeq.weight_influenced_person = fct_relevel(edeq.weight_influenced_person,
                          "0",
                           "1",
                           "2",
                          "3",
                          "4",
                          "5"))


```
#4. Rename edeq sliding scale
```{r}

##Rename sliding scale numbers
levels(dat_plot$edeq.weight_influenced_person)[1] <- "Not at all"

levels(dat_plot$edeq.weight_influenced_person)[6] <- "Markedly"


```

7. PLOT ! Over the past 28 days: Has your weight influenced how you think about yourself as a person?
```{r}

ggplot(dat_plot,
       aes(x = edeq.weight_influenced_person,
           y = wcount,
           fill = wave_factor)) +
  geom_bar(aes(group = wave_factor),
           stat = "identity",
           position = "dodge",
           colour = "black") + 
  scale_y_continuous(labels = scales::percent) +
  labs(title = str_wrap("Over the past 28 days: Has your weight influenced how you think about yourself as a person?", 60),
       x = "Sliding scale",
       y = "Percentage of participants",
       fill = "Time of survey") #+
#scale_x_discrete(guide = guide_axis(n.dodge=3))

```


##PLOTS - Over the past 28 days: How dissatisfied have you been with your weight or shape?

#1. Get rid of NAs and change edeq to factor
```{r}
#get rid of nas
dat.no.nas <- dat.edeq[!is.na(dat.edeq$edeq.dissatisfied_shape_weight),]

```

#1. Change wave to factor and re-order
```{r}

# change order of wave factor 1
dat.no.nas <- dat.no.nas %>%
 mutate(wave_factor = fct_relevel(wave,
                                  "retro_prepan",
                                  "baseline",
                                  "2",
                                  "3",
                           "4",
                           "5",
                           "6",
                           "7",
                           "8"))


#Check that this worked

summary(dat.no.nas$wave_factor)
```

#4. Rename waves to dates
```{r}

##Rename waves
levels(dat.no.nas$wave_factor)[1] <- "Retrospective pre-pandemic"

levels(dat.no.nas$wave_factor)[2] <- "May"

levels(dat.no.nas$wave_factor)[3] <- "June" 

levels(dat.no.nas$wave_factor)[4] <- "July "

levels(dat.no.nas$wave_factor)[5] <- "August"

levels(dat.no.nas$wave_factor)[6] <- "September"

levels(dat.no.nas$wave_factor)[7] <- "November"

levels(dat.no.nas$wave_factor)[8] <- "December"

```


#5. Format data to plot
```{r}
#get data in format to plot
dat_plot <- dat.no.nas %>%
  group_by(wave_factor) %>%
  dplyr::summarise(wcount = table(edeq.dissatisfied_shape_weight) / sum(table(edeq.dissatisfied_shape_weight))) %>%
  ungroup() %>%
  mutate(edeq.dissatisfied_shape_weight = rep(levels(dat.no.nas[["edeq.dissatisfied_shape_weight"]]),
                    length(levels(dat.no.nas[["wave_factor"]]))))


```

6. Change edeq variable to ordered factor
```{r}
dat_plot <- dat_plot %>%
  mutate(edeq.dissatisfied_shape_weight = fct_relevel(edeq.dissatisfied_shape_weight,
                           "0",
                           "1",
                           "2",
                          "3",
                          "4",
                          "5"))


```
#4. Rename edeq sliding scale
```{r}

##Rename sliding scale numbers
levels(dat_plot$edeq.dissatisfied_shape_weight)[1] <- "Not at all"

levels(dat_plot$edeq.dissatisfied_shape_weight)[6] <- "Markedly"


```


7. PLOT ! Over the past 28 days: How dissatisfied have you been with your weight or shape?
```{r}

ggplot(dat_plot,
       aes(x = edeq.dissatisfied_shape_weight,
           y = wcount,
           fill = wave_factor)) +
  geom_bar(aes(group = wave_factor),
           stat = "identity",
           position = "dodge",
           colour = "black") + 
  scale_y_continuous(labels = scales::percent) +
  labs(title = str_wrap("Over the past 28 days: How dissatisfied have you been with your weight or shape?", 60),
       x = "Sliding scale",
       y = "Percentage of participants",
       fill = "Time of survey") #+
#scale_x_discrete(guide = guide_axis(n.dodge=3))

```

##PLOTS - Over the past 28 days: How distressed have you been by your eating behaviours, the measures you've taken to control your weight, or concerns about your weight and shape?

#1. Get rid of NAs and change edeq to factor
```{r}
#get rid of nas
dat.no.nas <- dat.edeq[!is.na(dat.edeq$edeq.eating_behaviours_distressed_concerns),]

```

#1. Change wave to factor and re-order
```{r}

# change order of wave factor 1
dat.no.nas <- dat.no.nas %>%
 mutate(wave_factor = fct_relevel(wave,
                                  "retro_prepan",
                                  "baseline",
                                  "2",
                                  "3",
                           "4",
                           "5",
                           "6",
                           "7",
                           "8"))

#Check that this worked

summary(dat.no.nas$wave_factor)
```

#4. Rename waves to dates
```{r}

##Rename waves
levels(dat.no.nas$wave_factor)[1] <- "Retrospective pre-pandemic"

levels(dat.no.nas$wave_factor)[2] <- "May"

levels(dat.no.nas$wave_factor)[3] <- "June" 

levels(dat.no.nas$wave_factor)[4] <- "July "

levels(dat.no.nas$wave_factor)[5] <- "August"

levels(dat.no.nas$wave_factor)[6] <- "September"

levels(dat.no.nas$wave_factor)[7] <- "November"

levels(dat.no.nas$wave_factor)[8] <- "December"

```


#5. Format data to plot
```{r}
#get data in format to plot
dat_plot <- dat.no.nas %>%
  group_by(wave_factor) %>%
  dplyr::summarise(wcount = table(edeq.eating_behaviours_distressed_concerns) / sum(table(edeq.eating_behaviours_distressed_concerns))) %>%
  ungroup() %>%
  mutate(edeq.eating_behaviours_distressed_concerns = rep(levels(dat.no.nas[["edeq.eating_behaviours_distressed_concerns"]]),
                    length(levels(dat.no.nas[["wave_factor"]]))))


##Check number of participants at each answer
table(dat.no.nas$edeq.eating_behaviours_distressed_concerns)

```

6. Change edeq variable to ordered factor
```{r}
dat_plot <- dat_plot %>%
  mutate(edeq.eating_behaviours_distressed_concerns = fct_relevel(edeq.eating_behaviours_distressed_concerns,
                       "0",
                           "1",
                           "2",
                          "3",
                          "4",
                          "5"))

```
#4. Rename edeq sliding scale
```{r}

##Rename sliding scale numbers
levels(dat_plot$edeq.eating_behaviours_distressed_concerns)[1] <- "Not at all"

levels(dat_plot$edeq.eating_behaviours_distressed_concerns)[6] <- "Markedly"


```

7. PLOT ! Over the past 28 days: How distressed have you been by your eating behaviours, the measures you've taken to control your weight, or concerns about your weight and shape?
```{r}

ggplot(dat_plot,
       aes(x = edeq.eating_behaviours_distressed_concerns,
           y = wcount,
           fill = wave_factor)) +
  geom_bar(aes(group = wave_factor),
           stat = "identity",
           position = "dodge",
           colour = "black") + 
  scale_y_continuous(labels = scales::percent) +
  labs(title = str_wrap("Over the past 28 days: How distressed have you been by your eating behaviours, the measures you've taken to control your weight, or concerns about your weight and shape?", 60),
       x = "Sliding scale",
       y = "Percentage of participants",
       fill = "Time of survey") #+
#scale_x_discrete(guide = guide_axis(n.dodge=3))

```

##PLOTS - CONTROLS - Over the past 28 days: How distressed have you been by your eating behaviours, the measures you've taken to control your weight, or concerns about your weight and shape?

#1. Get rid of NAs and change edeq to factor
```{r}
##Filter so that dataset contains only controls
dat.controls <- dat.edeq %>%
  filter(control_numeric == 1)

#get rid of nas
dat.no.nas <- dat.controls[!is.na(dat.controls$edeq.eating_behaviours_distressed_concerns),]

```

#1. Change wave to factor and re-order
```{r}

# change order of wave factor 1
dat.no.nas <- dat.no.nas %>%
 mutate(wave_factor = fct_relevel(wave,
                                  "retro_prepan",
                                  "baseline",
                                  "2",
                                  "3",
                           "4",
                           "5",
                           "6",
                           "7",
                           "8"))


#Check that this worked

summary(dat.no.nas$wave_factor)
```

#4. Rename waves to dates
```{r}

##Rename waves
levels(dat.no.nas$wave_factor)[1] <- "Retrospective pre-pandemic"

levels(dat.no.nas$wave_factor)[2] <- "May"

levels(dat.no.nas$wave_factor)[3] <- "June" 

levels(dat.no.nas$wave_factor)[4] <- "July "

levels(dat.no.nas$wave_factor)[5] <- "August"

levels(dat.no.nas$wave_factor)[6] <- "September"

levels(dat.no.nas$wave_factor)[7] <- "November"

levels(dat.no.nas$wave_factor)[8] <- "December"
```


#5. Format data to plot
```{r}
#get data in format to plot
dat_plot <- dat.no.nas %>%
  group_by(wave_factor) %>%
  dplyr::summarise(wcount = table(edeq.eating_behaviours_distressed_concerns) / sum(table(edeq.eating_behaviours_distressed_concerns))) %>%
  ungroup() %>%
  mutate(edeq.eating_behaviours_distressed_concerns = rep(levels(dat.no.nas[["edeq.eating_behaviours_distressed_concerns"]]),
                    length(levels(dat.no.nas[["wave_factor"]]))))


##Check number of participants at each answer
table(dat.no.nas$edeq.eating_behaviours_distressed_concerns)

```

6. Change edeq variable to ordered factor
```{r}
dat_plot <- dat_plot %>%
  mutate(edeq.eating_behaviours_distressed_concerns = fct_relevel(edeq.eating_behaviours_distressed_concerns,
                       "0",
                           "1",
                           "2",
                          "3",
                          "4",
                          "5"))

```
#4. Rename edeq sliding scale
```{r}

##Rename sliding scale numbers
levels(dat_plot$edeq.eating_behaviours_distressed_concerns)[1] <- "Not at all"

levels(dat_plot$edeq.eating_behaviours_distressed_concerns)[6] <- "Markedly"


```

7. PLOT ! Over the past 28 days: How distressed have you been by your eating behaviours, the measures you've taken to control your weight, or concerns about your weight and shape?
```{r}

ggplot(dat_plot,
       aes(x = edeq.eating_behaviours_distressed_concerns,
           y = wcount,
           fill = wave_factor)) +
  geom_bar(aes(group = wave_factor),
           stat = "identity",
           position = "dodge",
           colour = "black") + 
  scale_y_continuous(labels = scales::percent) +
  labs(title = str_wrap("CONTROLS - Over the past 28 days: How distressed have you been by your eating behaviours, the measures you've taken to control your weight, or concerns about your weight and shape?", 60),
       x = "Sliding scale",
       y = "Percentage of control participants",
       fill = "Time of survey") #+
#scale_x_discrete(guide = guide_axis(n.dodge=3))

```















##PLOTS (for numeric variables) - Over the past 28 days, how many times per day have you: Actively been monitoring your shape or weight ?

# Get rid of NAs and implausible values (convert back to numeric for ease)
```{r}
#get rid of nas
dat.no.nas <- dat.edeq[!is.na(dat.edeq$edeq.actively_been_monitoring_your_shape_or_weight_numeric),]

#change to numeric for cleaing 
dat.no.nas$edeq.actively_been_monitoring_your_shape_or_weight_numeric <- as.numeric(paste(dat.no.nas$edeq.actively_been_monitoring_your_shape_or_weight_numeric))

#Change -77 to NA
dat.no.nas$edeq.actively_been_monitoring_your_shape_or_weight_numeric[dat.no.nas$edeq.actively_been_monitoring_your_shape_or_weight_numeric == -77] <- NA_real_

##Change >1 to NA (implausible)
dat.no.nas$edeq.actively_been_monitoring_your_shape_or_weight_numeric[dat.no.nas$edeq.actively_been_monitoring_your_shape_or_weight_numeric < 1] <- NA_real_

##Change <1000 to NA (implausible)
dat.no.nas$edeq.actively_been_monitoring_your_shape_or_weight_numeric[dat.no.nas$edeq.actively_been_monitoring_your_shape_or_weight_numeric > 1000] <- NA_real_

##Check 
freq(dat.no.nas$edeq.actively_been_monitoring_your_shape_or_weight_numeric)

```


## Change to categories for plotting, then to factor
```{r}
  dat.no.nas <- dat.no.nas %>%
    mutate(
      edeq.actively_been_monitoring_your_shape_or_weight_factor =
        case_when(
          edeq.actively_been_monitoring_your_shape_or_weight_numeric >= 1 & edeq.actively_been_monitoring_your_shape_or_weight_numeric <= 5 ~ 1,
          edeq.actively_been_monitoring_your_shape_or_weight_numeric >= 6 & edeq.actively_been_monitoring_your_shape_or_weight_numeric <= 10 ~ 2,
          edeq.actively_been_monitoring_your_shape_or_weight_numeric >= 11 & edeq.actively_been_monitoring_your_shape_or_weight_numeric <= 15 ~ 3,
          edeq.actively_been_monitoring_your_shape_or_weight_numeric >= 16 & edeq.actively_been_monitoring_your_shape_or_weight_numeric <= 20 ~ 4,
          edeq.actively_been_monitoring_your_shape_or_weight_numeric >= 21 & edeq.actively_been_monitoring_your_shape_or_weight_numeric <= 25 ~ 5,
          edeq.actively_been_monitoring_your_shape_or_weight_numeric >= 26 & edeq.actively_been_monitoring_your_shape_or_weight_numeric <= 30 ~ 6,
          edeq.actively_been_monitoring_your_shape_or_weight_numeric > 30 ~ 7


        )
    )
  
  dat.no.nas <- dat.no.nas %>%
    mutate(
      edeq.actively_been_monitoring_your_shape_or_weight_factor =
        recode_factor(
          edeq.actively_been_monitoring_your_shape_or_weight_factor,
          "1" = "1-5",
          "2" = "6-10",
          "3" = "11-15",
          "4" = "16-20",
          "5" = "21-25",
          "6" = "26-30",
          "7" = "30+"


        )
    )

```

##Change wave to factor and re-order
```{r}

# change order of wave factor 1
dat.no.nas <- dat.no.nas %>%
 mutate(wave_factor = fct_relevel(wave,
                                  "retro_prepan",
                                  "baseline",
                                  "2",
                                  "3",
                           "4",
                           "5",
                           "6",
                           "7",
                           "8"))


#Check that this worked

summary(dat.no.nas$wave_factor)
```

## Rename waves to dates
```{r}

##Rename waves
levels(dat.no.nas$wave_factor)[1] <- "Retrospective pre-pandemic"

levels(dat.no.nas$wave_factor)[2] <- "May"

levels(dat.no.nas$wave_factor)[3] <- "June" 

levels(dat.no.nas$wave_factor)[4] <- "July "

levels(dat.no.nas$wave_factor)[5] <- "August"

levels(dat.no.nas$wave_factor)[6] <- "September"

levels(dat.no.nas$wave_factor)[7] <- "November"

levels(dat.no.nas$wave_factor)[8] <- "December"

```


## Format data to plot
```{r}
#get data in format to plot
dat_plot <- dat.no.nas %>%
  group_by(wave_factor) %>%
  dplyr::summarise(wcount = table(edeq.actively_been_monitoring_your_shape_or_weight_factor) / sum(table(edeq.actively_been_monitoring_your_shape_or_weight_factor))) %>%
  ungroup() %>%
  mutate(edeq.actively_been_monitoring_your_shape_or_weight_factor = rep(levels(dat.no.nas[["edeq.actively_been_monitoring_your_shape_or_weight_factor"]]),
                    length(levels(dat.no.nas[["wave_factor"]]))))



```
## Change edeq to ordered factor
```{r}
dat_plot <- dat_plot %>%
  mutate(edeq.actively_been_monitoring_your_shape_or_weight_factor = fct_relevel(edeq.actively_been_monitoring_your_shape_or_weight_factor,
                       "1-5",
                       "6-10",
                       "11-15",
                       "16-20",
                       "21-25",
                       "26-30",
                       "30+"))



```

## PLOT ! Over the past 28 days, how many times per day have you: Actively been monitoring your shape or weight ?
```{r}

ggplot(dat_plot,
       aes(x = edeq.actively_been_monitoring_your_shape_or_weight_factor,
           y = wcount,
           fill = wave_factor)) +
  geom_bar(aes(group = wave_factor),
           stat = "identity",
           position = "dodge",
           colour = "black") + 
  scale_y_continuous(labels = scales::percent) +
  labs(title = str_wrap("Over the past 28 days, how many times per day have you: Actively been monitoring your shape or weight?", 60),
       x = "Number of times",
       y = "Percentage of participants",
       fill = "Time of survey") #+
#scale_x_discrete(guide = guide_axis(n.dodge=3))

```